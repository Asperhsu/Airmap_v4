{"version":3,"sources":["webpack:///list.js","webpack:///./src/js/list-page.js","webpack:///./src/js/svg-tool.js?c3a6*","webpack:///./src/js/list-table.js","webpack:///./src/js/list-table.js?63c4","webpack:///./src/css/list.css"],"names":["webpackJsonp","0","module","exports","__webpack_require__","moment","$","_slicedToArray","sliceIterator","arr","i","_arr","_n","_d","_e","undefined","_s","_i","Symbol","iterator","next","done","push","value","length","err","Array","isArray","Object","TypeError","locale","updateLocale","relativeTime","m","h","d","M","y","loadDatasource","filename","show","url","replace","getJSON","then","data","bootstrapTable","hide","siteName","window","location","hash","substr","on","e","val","trigger","row","$tr","is","this","click","removeClass","filter","addClass","type","group","google","maps","event","addDomListener","geocoder","Geocoder","getAddr","lat","lng","cb","coord","LatLng","geocode","latLng","results","status","GeocoderStatus","OK","address","formatted_address","components","address_components","shift","pop","seperate","short_name","reverse","map","component","long_name","join","$el","_$$data$split","split","_$$data$split2","addr","attr","call","6","svgTemplate","defaultProperty","width","height","viewBox","path","text","offset","x","color","size","strokeColor","getHtml","userProperty","property","extend","svgHtml","toDataImage","encodeURIComponent","getContrastYIQ","hexcolor","r","parseInt","g","b","yiq","getCircleUrl","arguments","strokeWidth","fillColor","html","getHomeUrl","getCloudUrl","getFactoryUrl","7","36","SVGTool","formatter","sn","index","latlng","detail","element","bsTable","generate","table","Data","RawData","updateTime","time","human","fromNow","dataTime","format","name","SiteGroup","uniqueKey","ranking","_ranking","template","_status","hints","indoor","longterm","shortterm","indexOf","title","head","body","headHtml","bodyHtml","45","global","49"],"mappings":"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","file":"list.js","sourcesContent":["webpackJsonp([4],{\n\n/***/ 0:\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(moment, $) {\"use strict\";\n\t\n\tvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\t\n\t__webpack_require__(45);\n\t__webpack_require__(7);\n\t__webpack_require__(49);\n\t\n\tmoment.locale('zh-tw');\n\tmoment.updateLocale('zh-tw', {\n\t\trelativeTime: {\n\t\t\tm: '1分鐘',\n\t\t\th: '1小時',\n\t\t\td: '1天',\n\t\t\tM: '1個月',\n\t\t\ty: '1年'\n\t\t}\n\t});\n\t\n\t$(function () {\n\t\t// siteName hashtag\n\t\tvar siteName = window.location.hash.substr(1);\n\t\t$(\".bsTable\").on('load-success.bs.table', function (e, data) {\n\t\t\tif (siteName) {\n\t\t\t\t$(\".bootstrap-table .search input\").val(siteName).trigger('keyup');\n\t\t\t}\n\t\t});\n\t\n\t\t$(\".bsTable\").on('click-row.bs.table', function (e, row, $tr) {\n\t\t\tif ($tr.next().is('tr.detail-view')) {\n\t\t\t\t$(this).bootstrapTable('collapseRow', $tr.data('index'));\n\t\t\t} else {\n\t\t\t\t$(this).bootstrapTable('expandRow', $tr.data('index'));\n\t\t\t}\n\t\t});\n\t\n\t\t$(\"#filter button\").click(function () {\n\t\t\tif ($(this).data('type')) {\n\t\t\t\t$(\"#filter button[data-type]\").removeClass('btn-primary').filter(this).addClass('btn-primary');\n\t\t\t}\n\t\n\t\t\tif ($(this).data('group')) {\n\t\t\t\t$(\"#filter button[data-group]\").removeClass('btn-success').filter(this).addClass('btn-success');\n\t\t\t}\n\t\n\t\t\tvar type = $(\"#filter button.btn-primary[data-type]\").data('type');\n\t\t\tvar group = $(\"#filter button.btn-success[data-group]\").data('group');\n\t\t\tvar filename = type == 'valid' ? group : group + '-expire';\n\t\t\tloadDatasource(filename);\n\t\t});\n\t\n\t\tfunction loadDatasource(filename) {\n\t\t\tif (!filename) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\n\t\t\t$(\"#loading\").show();\n\t\n\t\t\tvar url = \"/json/{{filename}}.json?raw=1\";\n\t\t\turl = url.replace('{{filename}}', filename);\n\t\n\t\t\t$.getJSON(url).then(function (data) {\n\t\t\t\t$('#bsTable').bootstrapTable('load', data);\n\t\t\t\t$(\"#loading\").hide();\n\t\t\t});\n\t\t}\n\t\n\t\tgoogle.maps.event.addDomListener(window, \"load\", function () {\n\t\t\tvar geocoder = new google.maps.Geocoder();\n\t\t\tvar getAddr = function getAddr(lat, lng, cb) {\n\t\t\t\tvar coord = new google.maps.LatLng(lat, lng);\n\t\t\t\tgeocoder.geocode({ 'latLng': coord }, function (results, status) {\n\t\t\t\t\tif (status === google.maps.GeocoderStatus.OK && results) {\n\t\t\t\t\t\tvar address = results[0].formatted_address;\n\t\n\t\t\t\t\t\tvar components = results[0].address_components;\n\t\t\t\t\t\tif (components.length > 4) {\n\t\t\t\t\t\t\tcomponents.shift();components.pop();\n\t\t\t\t\t\t\tvar seperate = components[components.length - 1].short_name == \"TW\" ? '' : ', ';\n\t\t\t\t\t\t\taddress = components.reverse().map(function (component) {\n\t\t\t\t\t\t\t\treturn component.long_name;\n\t\t\t\t\t\t\t}).join(seperate);\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\tcb(address);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tcb('');\n\t\t\t\t});\n\t\t\t};\n\t\n\t\t\t$(\"body\").on(\"mouseover\", \"a.latlng\", function () {\n\t\t\t\tvar $el = $(this);\n\t\n\t\t\t\tvar _$$data$split = $(this).data('latlng').split(',');\n\t\n\t\t\t\tvar _$$data$split2 = _slicedToArray(_$$data$split, 2);\n\t\n\t\t\t\tvar lat = _$$data$split2[0];\n\t\t\t\tvar lng = _$$data$split2[1];\n\t\n\t\t\t\tgetAddr(lat, lng, function (addr) {\n\t\t\t\t\t$el.attr('title', addr + (\" (\" + $el.data('latlng') + \")\"));\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t});\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(3), __webpack_require__(1)))\n\n/***/ },\n\n/***/ 6:\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function($) {'use strict';\n\t\n\tvar svgTemplate = '\\\r\n\t\t<svg width=\"{{width}}\" height=\"{{height}}\" viewBox=\"{{viewBox}}\" xmlns=\"http://www.w3.org/2000/svg\">\\\r\n\t\t\t{{path}}\\\r\n\t\t\t<text x=\"{{textOffsetX}}\" y=\"{{textOffsetY}}\"\\\r\n\t\t\t\tfill=\"{{textColor}}\" text-anchor=\"middle\" \\\r\n\t\t\t\tstyle=\"font-size:{{textSize}}px; font-weight: 800; \">\\\r\n\t\t\t\t{{text}}\\\r\n\t\t\t</text>\\\r\n\t\t</svg>';\n\t\n\tvar defaultProperty = {\n\t\twidth: 35,\n\t\theight: 35,\n\t\tviewBox: '0 0 40 40',\n\t\tpath: '',\n\t\ttext: {\n\t\t\toffset: {\n\t\t\t\tx: 15,\n\t\t\t\ty: 15\n\t\t\t},\n\t\t\tcolor: \"#FFFFFF\",\n\t\t\tsize: 35,\n\t\t\tvalue: ''\n\t\t},\n\t\tstrokeColor: \"#4F595D\"\n\t};\n\t\n\tvar getHtml = function getHtml(userProperty) {\n\t\tvar property = $.extend(true, {}, defaultProperty, userProperty);\n\t\n\t\tvar svgHtml = svgTemplate.replace(/{{width}}/g, property.width).replace(/{{height}}/g, property.height).replace(/{{viewBox}}/g, property.viewBox).replace(/{{path}}/g, property.path).replace(/{{textOffsetX}}/g, property.text.offset.x).replace(/{{textOffsetY}}/g, property.text.offset.y).replace(/{{textColor}}/g, property.text.color).replace(/{{textSize}}/g, property.text.size).replace(/{{text}}/g, property.text.value);\n\t\n\t\treturn svgHtml;\n\t};\n\t\n\tvar toDataImage = function toDataImage(svgHtml) {\n\t\treturn 'data:image/svg+xml;charset=utf-8,' + encodeURIComponent(svgHtml);\n\t};\n\t\n\tvar getContrastYIQ = function getContrastYIQ(hexcolor) {\n\t\t//source: https://24ways.org/2010/calculating-color-contrast/\n\t\thexcolor = hexcolor.replace('#', '');\n\t\tvar r = parseInt(hexcolor.substr(0, 2), 16);\n\t\tvar g = parseInt(hexcolor.substr(2, 2), 16);\n\t\tvar b = parseInt(hexcolor.substr(4, 2), 16);\n\t\tvar yiq = (r * 299 + g * 587 + b * 114) / 1000;\n\t\treturn yiq >= 128 ? '#000000' : '#FFFFFF';\n\t};\n\t\n\texports.getCircleUrl = function (color, text) {\n\t\tvar size = arguments.length <= 2 || arguments[2] === undefined ? 40 : arguments[2];\n\t\n\t\tvar strokeWidth = 2;\n\t\tvar strokeColor = defaultProperty.strokeColor;\n\t\tvar fillColor = color;\n\t\n\t\tvar path = '\\\r\n\t\t\t<circle r=\"{{size}}\" stroke=\"{{strokeColor}}\" stroke-width=\"{{strokeWidth}}\" fill=\"{{fillColor}}\" />\\\r\n\t\t';\n\t\tpath = path.replace(/{{size}}/g, size).replace(/{{strokeWidth}}/g, strokeWidth).replace(/{{strokeColor}}/g, strokeColor).replace(/{{fillColor}}/g, fillColor);\n\t\n\t\tvar property = {\n\t\t\tviewBox: \"-55 -55 110 110\",\n\t\t\tpath: path,\n\t\t\ttext: {\n\t\t\t\toffset: { x: 0, y: 13 },\n\t\t\t\tvalue: text,\n\t\t\t\tcolor: getContrastYIQ(color)\n\t\t\t}\n\t\t};\n\t\n\t\tvar html = getHtml(property);\n\t\treturn toDataImage(html);\n\t};\n\t\n\texports.getHomeUrl = function (color, text) {\n\t\t//copyright: <a href=\"http://www.freepik.com\" title=\"Freepik\">Freepik</a>\n\t\tvar strokeWidth = 1;\n\t\tvar strokeColor = defaultProperty.strokeColor;\n\t\tvar fillColor = color;\n\t\n\t\tvar path = '\\\r\n\t\t\t<g fill=\"{{fillColor}}\" stroke=\"{{strokeColor}}\" stroke-width=\"{{strokeWidth}}\" >\\\r\n\t\t\t\t<path d=\"M33.609,20.96v12.384c0,1.104-0.896,2-2,2H7.805c-1.104,0-2-0.896-2-2V20.96c0-0.69,0.355-1.332,0.94-1.696l11.901-7.433\\\r\n\t\t\t\t\tc0.648-0.405,1.472-0.405,2.119,0l11.901,7.433C33.253,19.628,33.609,20.269,33.609,20.96z M38.475,15.432L20.768,4.374\\\r\n\t\t\t\t\tc-0.648-0.405-1.471-0.405-2.119,0L0.94,15.432c-0.937,0.585-1.221,1.819-0.637,2.756c0.584,0.938,1.816,1.224,2.756,0.638\\\r\n\t\t\t\t\tL19.707,8.428l16.646,10.396c0.33,0.206,0.695,0.304,1.059,0.304c0.667,0,1.318-0.333,1.697-0.941\\\r\n\t\t\t\t\tC39.695,17.249,39.41,16.017,38.475,15.432z\"/>\\\r\n\t\t\t</g>\\\r\n\t\t';\n\t\tpath = path.replace(/{{strokeWidth}}/g, strokeWidth).replace(/{{strokeColor}}/g, strokeColor).replace(/{{fillColor}}/g, fillColor);\n\t\n\t\tvar property = {\n\t\t\tviewBox: \"-2 -2 44 44\",\n\t\t\tpath: path,\n\t\t\ttext: {\n\t\t\t\toffset: {\n\t\t\t\t\tx: 20,\n\t\t\t\t\ty: 32\n\t\t\t\t},\n\t\t\t\tsize: 14,\n\t\t\t\tvalue: text,\n\t\t\t\tcolor: getContrastYIQ(color)\n\t\t\t}\n\t\t};\n\t\n\t\tvar html = getHtml(property);\n\t\treturn toDataImage(html);\n\t};\n\t\n\texports.getCloudUrl = function (color, text) {\n\t\t//copyright: <a href=\"http://www.freepik.com\" title=\"Freepik\">Freepik</a>\n\t\tvar strokeWidth = 10;\n\t\tvar strokeColor = defaultProperty.strokeColor;\n\t\tvar fillColor = color;\n\t\n\t\tvar path = '\\\r\n\t\t\t<g fill=\"{{fillColor}}\" stroke=\"{{strokeColor}}\" stroke-width=\"{{strokeWidth}}\">\\\r\n\t\t\t\t<path d=\"M62.513,153.087c-0.009-0.525-0.02-1.049-0.02-1.575c0-50.155,40.659-90.814,90.814-90.814\\\r\n\t\t\t\tc43.222,0,79.388,30.196,88.562,70.643c8.555-4.789,18.409-7.531,28.91-7.531c32.766,0,59.328,26.562,59.328,59.328\\\r\n\t\t\t\tc0,1.339-0.06,2.664-0.148,3.981c24.325,9.03,41.661,32.444,41.661,59.911c0,35.286-28.605,63.892-63.892,63.892H79.865\\\r\n\t\t\t\tC35.757,310.921,0,275.164,0,231.056C0,192.907,26.749,161.011,62.513,153.087z\"/>\\\r\n\t\t\t</g>\\\r\n\t\t';\n\t\tpath = path.replace(/{{strokeWidth}}/g, strokeWidth).replace(/{{strokeColor}}/g, strokeColor).replace(/{{fillColor}}/g, fillColor);\n\t\n\t\tvar property = {\n\t\t\tviewBox: \"-20 -20 420 420\",\n\t\t\tpath: path,\n\t\t\ttext: {\n\t\t\t\toffset: {\n\t\t\t\t\tx: 180,\n\t\t\t\t\ty: 280\n\t\t\t\t},\n\t\t\t\tsize: 140,\n\t\t\t\tvalue: text,\n\t\t\t\tcolor: getContrastYIQ(color)\n\t\t\t}\n\t\t};\n\t\n\t\tvar html = getHtml(property);\n\t\treturn toDataImage(html);\n\t};\n\t\n\texports.getFactoryUrl = function (color, text) {\n\t\t//copyright: <a href=\"http://www.freepik.com\" title=\"Freepik\">Freepik</a>\n\t\tvar strokeWidth = 13;\n\t\tvar strokeColor = defaultProperty.strokeColor;\n\t\tvar fillColor = color;\n\t\n\t\tvar path = '\\\r\n\t\t\t<path fill=\"{{fillColor}}\" stroke=\"{{strokeColor}}\" stroke-width=\"{{strokeWidth}}\" \\\r\n\t\t\td=\"M499.669,495.616C406.528,348.416,373.333,159.595,373.333,32c0-28.885-85.781-32-122.667-32C213.781,0,128,3.115,128,32\\\r\n\t\t\tc0,104.875-15.04,304.555-115.669,463.616c-2.091,3.285-2.219,7.445-0.341,10.859c1.877,3.413,5.461,5.525,9.344,5.525h469.333\\\r\n\t\t\tc3.883,0,7.467-2.112,9.344-5.525S501.76,498.923,499.669,495.616z M343.403,32.853c-0.747,0.235-1.429,0.469-2.24,0.683\\\r\n\t\t\tc-2.091,0.597-4.459,1.195-7.061,1.771c-0.491,0.107-0.875,0.213-1.365,0.32c-3.2,0.683-6.784,1.365-10.688,2.005\\\r\n\t\t\tc-1.003,0.171-2.176,0.32-3.221,0.469c-3.008,0.469-6.187,0.896-9.579,1.323c-1.6,0.192-3.285,0.363-4.971,0.555\\\r\n\t\t\tc-3.221,0.341-6.592,0.661-10.112,0.96c-1.941,0.149-3.883,0.32-5.909,0.448c-3.797,0.256-7.829,0.469-11.947,0.661\\\r\n\t\t\tc-1.963,0.085-3.84,0.192-5.867,0.256c-6.272,0.213-12.8,0.341-19.755,0.341c-6.955,0-13.483-0.128-19.755-0.341\\\r\n\t\t\tc-2.027-0.064-3.904-0.171-5.867-0.256c-4.117-0.192-8.149-0.384-11.947-0.661c-2.027-0.149-3.989-0.299-5.909-0.448\\\r\n\t\t\tc-3.52-0.299-6.891-0.597-10.112-0.96c-1.685-0.171-3.371-0.363-4.971-0.555c-3.392-0.405-6.571-0.853-9.579-1.323\\\r\n\t\t\tc-1.045-0.171-2.219-0.32-3.221-0.469c-3.904-0.64-7.488-1.323-10.688-2.005c-0.512-0.107-0.875-0.213-1.365-0.32\\\r\n\t\t\tc-2.603-0.576-4.992-1.173-7.061-1.771c-0.811-0.235-1.493-0.469-2.24-0.683c-0.981-0.299-1.813-0.597-2.645-0.896\\\r\n\t\t\tc13.803-4.864,46.037-10.624,95.381-10.624s81.536,5.76,95.339,10.624C345.216,32.256,344.384,32.555,343.403,32.853z\"/>\\\r\n\t\t';\n\t\tpath = path.replace(/{{strokeWidth}}/g, strokeWidth).replace(/{{strokeColor}}/g, strokeColor).replace(/{{fillColor}}/g, fillColor);\n\t\n\t\tvar property = {\n\t\t\tviewBox: \"-44 -44 600 600\",\n\t\t\tpath: path,\n\t\t\ttext: {\n\t\t\t\toffset: {\n\t\t\t\t\tx: 250,\n\t\t\t\t\ty: 480\n\t\t\t\t},\n\t\t\t\tsize: 230,\n\t\t\t\tvalue: text,\n\t\t\t\tcolor: getContrastYIQ(color)\n\t\t\t}\n\t\t};\n\t\n\t\tvar html = getHtml(property);\n\t\treturn toDataImage(html);\n\t};\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(1)))\n\n/***/ },\n\n/***/ 7:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n\n/***/ 36:\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(moment) {\"use strict\";\n\t\n\tvar SVGTool = __webpack_require__(6);\n\t\n\tmodule.exports = {\n\t\tformatter: {\n\t\t\tsn: function sn(value, row, index) {\n\t\t\t\treturn 1 + index;\n\t\t\t},\n\t\t\tlocation: function location(value, row, index) {\n\t\t\t\t// var url = \"https://www.google.com.tw/maps/place/\" + value.lat + ',' + value.lng;\n\t\t\t\tvar url = \"/@\" + value.lat + ',' + value.lng;\n\t\t\t\tvar latlng = [value.lat, value.lng].join(', ');\n\t\n\t\t\t\treturn [\"<a href=\\\"\" + url + \"\\\" class=\\\"latlng\\\" target=\\\"_blank\\\" data-latlng=\\\"\" + latlng + \"\\\">\", '<span class=\"glyphicon glyphicon-map-marker\"></span>', '</a>'].join('');\n\t\t\t},\n\t\t\tdetail: function detail(index, row, element) {\n\t\t\t\treturn [\"<div class='col-sm-6'>\", bsTable.generate.table(\"Data\", ['Index', 'Value'], row.Data), \"</div>\", \"<div class='col-sm-6'>\", bsTable.generate.table(\"RawData\", ['Index', 'Value'], row.RawData), \"</div>\"].join('');\n\t\t\t},\n\t\t\tupdateTime: function updateTime(time) {\n\t\t\t\tvar human = moment(time).fromNow();\n\t\t\t\tvar dataTime = moment(time).format('YYYY-MM-DD HH:mm');\n\t\t\t\treturn '<span title=\"' + dataTime + '\"><span class=\"glyphicon glyphicon-time\"></span> ' + human + '</span>';\n\t\t\t},\n\t\t\tsiteName: function siteName(name, row) {\n\t\t\t\tvar url = \"/site#\" + row.SiteGroup + '$' + row.uniqueKey;\n\t\t\t\treturn \"<a href='\" + url + \"' target='_blank'><span class='glyphicon glyphicon-bookmark'></span> \" + name + \"</a>\";\n\t\t\t},\n\t\t\tranking: function ranking(_ranking) {\n\t\t\t\tif (_ranking == null) {\n\t\t\t\t\treturn '';\n\t\t\t\t}\n\t\n\t\t\t\tvar html = [];\n\t\t\t\tvar template = '<span class=\"glyphicon glyphicon-{{icon}}\"></span>';\n\t\t\t\tfor (var i = 1; i <= 5; i++) {\n\t\t\t\t\thtml.push(template.replace('{{icon}}', i <= _ranking ? 'star' : 'star-empty'));\n\t\t\t\t}\n\t\t\t\treturn html.join('');\n\t\n\t\t\t\treturn value;\n\t\t\t},\n\t\t\tstatus: function status(_status) {\n\t\t\t\tif (_status === null) {\n\t\t\t\t\treturn '';\n\t\t\t\t}\n\t\n\t\t\t\tvar template = '<img src=\"{{url}}\" title=\"{{hint}}\" />';\n\t\t\t\tvar hints = {\n\t\t\t\t\t'indoor': '可能放置於室內或設備故障',\n\t\t\t\t\t'longterm': '可能接近長時間的固定污染源或設備故障',\n\t\t\t\t\t'shortterm': '偵測到小型污染源'\n\t\t\t\t};\n\t\t\t\tvar color = '#333';\n\t\t\t\tvar text = '';\n\t\t\t\tvar html = [];\n\t\n\t\t\t\tif (_status.indexOf('indoor') > -1) {\n\t\t\t\t\thtml.push(template.replace('{{url}}', SVGTool.getHomeUrl(color, text)).replace('{{hint}}', hints['indoor']));\n\t\t\t\t}\n\t\t\t\tif (_status.indexOf('longterm-pollution') > -1) {\n\t\t\t\t\thtml.push(template.replace('{{url}}', SVGTool.getFactoryUrl(color, text)).replace('{{hint}}', hints['longterm']));\n\t\t\t\t}\n\t\t\t\tif (_status.indexOf('shortterm-pollution') > -1) {\n\t\t\t\t\thtml.push(template.replace('{{url}}', SVGTool.getCloudUrl(color, text)).replace('{{hint}}', hints['shortterm']));\n\t\t\t\t}\n\t\n\t\t\t\treturn html.join('');\n\t\t\t}\n\t\t},\n\t\tgenerate: {\n\t\t\ttable: function table(title, head, body) {\n\t\t\t\tvar headHtml = '<tr><th>' + head.join('</th><th>') + '</th></tr>';\n\t\n\t\t\t\tvar bodyHtml = '';\n\t\t\t\tfor (var index in body) {\n\t\t\t\t\tvar value = body[index];\n\t\t\t\t\t// console.log(index, value);\n\t\t\t\t\tbodyHtml += ['<tr>', '<th>' + index + '</th>', '<td>' + value + '</td>', \"</tr>\"].join('');\n\t\t\t\t}\n\t\n\t\t\t\treturn ['<div class=\"panel panel-info\">', '<div class=\"panel-heading\">', title, '</div>', \"<table class='table table-striped'>\", \"<thead>\", headHtml, \"</thead>\", \"<tbody>\", bodyHtml, \"</tbody>\", \"</table>\", '</div>'].join('');\n\t\t\t}\n\t\t}\n\t};\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(3)))\n\n/***/ },\n\n/***/ 45:\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {module.exports = global[\"bsTable\"] = __webpack_require__(36);\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ },\n\n/***/ 49:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }\n\n});\n\n\n/** WEBPACK FOOTER **\n ** list.js\n **/","require(\"expose?bsTable!./list-table\");\r\nrequire(\"css/common.css\");\r\nrequire(\"css/list.css\");\r\n\r\nmoment.locale('zh-tw');\r\nmoment.updateLocale('zh-tw', {\r\n\trelativeTime: {\r\n\t\tm : '1分鐘',\r\n\t\th : '1小時',\r\n\t\td : '1天',\r\n\t\tM : '1個月',\r\n\t\ty : '1年',\r\n\t}\r\n});\r\n\r\n\r\n\r\n$(function(){\r\n\t// siteName hashtag\r\n\tvar siteName = window.location.hash.substr(1);\t\r\n\t$(\".bsTable\").on('load-success.bs.table', function(e, data){\r\n\t\tif(siteName){\r\n\t\t\t$(\".bootstrap-table .search input\").val(siteName).trigger('keyup');\r\n\t\t}\r\n\t});\r\n\r\n\t$(\".bsTable\").on('click-row.bs.table', function(e, row, $tr){\r\n\t\tif ($tr.next().is('tr.detail-view')) {\r\n\t\t\t$(this).bootstrapTable('collapseRow', $tr.data('index'));\r\n\t\t} else {\r\n\t\t\t$(this).bootstrapTable('expandRow', $tr.data('index'));\r\n\t\t}\r\n\t});\r\n\r\n\t$(\"#filter button\").click(function(){\r\n\t\tif($(this).data('type')){\r\n\t\t\t$(\"#filter button[data-type]\").removeClass('btn-primary')\r\n\t\t\t\t.filter(this).addClass('btn-primary');\r\n\t\t}\r\n\r\n\t\tif($(this).data('group')){\r\n\t\t\t$(\"#filter button[data-group]\").removeClass('btn-success')\r\n\t\t\t\t.filter(this).addClass('btn-success');\r\n\t\t}\r\n\r\n\t\tvar type = $(\"#filter button.btn-primary[data-type]\").data('type');\r\n\t\tvar group = $(\"#filter button.btn-success[data-group]\").data('group');\r\n\t\tvar filename = type == 'valid' ? group : group + '-expire';\r\n\t\tloadDatasource(filename);\r\n\t});\r\n\r\n\tfunction loadDatasource(filename){\r\n\t\tif(!filename){ return false; }\r\n\r\n\t\t$(\"#loading\").show();\r\n\r\n\t\tvar url = \"/json/{{filename}}.json?raw=1\";\r\n\t\turl = url.replace('{{filename}}', filename);\r\n\r\n\t\t$.getJSON(url).then(data => {\r\n\t\t\t$('#bsTable').bootstrapTable('load', data);\r\n\t\t\t$(\"#loading\").hide();\r\n\t\t});\r\n\t}\r\n\r\n\tgoogle.maps.event.addDomListener(window, \"load\", function(){\r\n\t\tvar geocoder = new google.maps.Geocoder();\r\n\t\tvar getAddr = function(lat, lng, cb){\r\n\t\t\tvar coord = new google.maps.LatLng(lat, lng);\r\n\t\t\tgeocoder.geocode({'latLng': coord }, function(results, status) {\r\n\t\t\t\tif (status === google.maps.GeocoderStatus.OK && results) {\t\r\n\t\t\t\t\tvar address = results[0].formatted_address;\r\n\r\n\t\t\t\t\tvar components = results[0].address_components;\r\n\t\t\t\t\tif( components.length > 4 ){\t\t\t\t\t\t\r\n\t\t\t\t\t\tcomponents.shift(); components.pop();\r\n\t\t\t\t\t\tvar seperate = components[components.length-1].short_name == \"TW\" ? '' : ', ';\r\n\t\t\t\t\t\taddress = components.reverse().map((component) => component.long_name).join(seperate);\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tcb(address);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tcb('');\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\t$(\"body\").on(\"mouseover\", \"a.latlng\", function(){\r\n\t\t\tvar $el = $(this);\r\n\t\t\tvar [lat, lng] = $(this).data('latlng').split(',');\r\n\t\t\tgetAddr(lat, lng, function(addr){\r\n\t\t\t\t$el.attr('title', addr + ` (${$el.data('latlng')})` );\r\n\t\t\t});\t\t\t\r\n\t\t});\r\n\t});\r\n});\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/list-page.js\n **/","var svgTemplate = '\\\r\n\t<svg width=\"{{width}}\" height=\"{{height}}\" viewBox=\"{{viewBox}}\" xmlns=\"http://www.w3.org/2000/svg\">\\\r\n\t\t{{path}}\\\r\n\t\t<text x=\"{{textOffsetX}}\" y=\"{{textOffsetY}}\"\\\r\n\t\t\tfill=\"{{textColor}}\" text-anchor=\"middle\" \\\r\n\t\t\tstyle=\"font-size:{{textSize}}px; font-weight: 800; \">\\\r\n\t\t\t{{text}}\\\r\n\t\t</text>\\\r\n\t</svg>';\r\n\r\nvar defaultProperty = {\r\n\twidth: 35,\r\n\theight: 35,\r\n\tviewBox: '0 0 40 40',\r\n\tpath: '',\r\n\ttext: {\r\n\t\toffset: {\r\n\t\t\tx: 15,\r\n\t\t\ty: 15,\r\n\t\t},\r\n\t\tcolor: \"#FFFFFF\",\r\n\t\tsize: 35,\r\n\t\tvalue: '',\r\n\t},\r\n\tstrokeColor: \"#4F595D\",\r\n}\r\n\r\nvar getHtml = function(userProperty){\r\n\tvar property = $.extend(true, {}, defaultProperty, userProperty);\r\n\r\n\tvar svgHtml = svgTemplate.replace(/{{width}}/g, property.width)\r\n\t\t\t\t\t\t .replace(/{{height}}/g, property.height)\r\n\t\t\t\t\t\t .replace(/{{viewBox}}/g, property.viewBox)\r\n\t\t\t\t\t\t .replace(/{{path}}/g, property.path)\r\n\t\t\t\t\t\t .replace(/{{textOffsetX}}/g, property.text.offset.x)\r\n\t\t\t\t\t\t .replace(/{{textOffsetY}}/g, property.text.offset.y)\r\n\t\t\t\t\t\t .replace(/{{textColor}}/g, property.text.color)\r\n\t\t\t\t\t\t .replace(/{{textSize}}/g, property.text.size)\r\n\t\t\t\t\t\t .replace(/{{text}}/g, property.text.value);\r\n\r\n\treturn svgHtml;\r\n}\r\n\r\nvar toDataImage = function(svgHtml){\r\n\treturn 'data:image/svg+xml;charset=utf-8,' + encodeURIComponent(svgHtml);\r\n}\r\n\r\nvar getContrastYIQ = function(hexcolor){\r\n\t//source: https://24ways.org/2010/calculating-color-contrast/\r\n\thexcolor = hexcolor.replace('#', '');\r\n\tvar r = parseInt(hexcolor.substr(0,2),16);\r\n\tvar g = parseInt(hexcolor.substr(2,2),16);\r\n\tvar b = parseInt(hexcolor.substr(4,2),16);\r\n\tvar yiq = ((r*299)+(g*587)+(b*114))/1000;\r\n\treturn (yiq >= 128) ? '#000000' : '#FFFFFF';\r\n}\r\n\r\nexports.getCircleUrl = function(color, text, size=40){\r\n\tvar strokeWidth = 2;\r\n\tvar strokeColor = defaultProperty.strokeColor;\r\n\tvar fillColor = color;\r\n\r\n\tvar path = '\\\r\n\t\t<circle r=\"{{size}}\" stroke=\"{{strokeColor}}\" stroke-width=\"{{strokeWidth}}\" fill=\"{{fillColor}}\" />\\\r\n\t';\r\n\tpath = path.replace(/{{size}}/g, size)\r\n\t\t\t\t.replace(/{{strokeWidth}}/g, strokeWidth)\r\n\t\t\t\t.replace(/{{strokeColor}}/g, strokeColor)\r\n\t\t\t\t.replace(/{{fillColor}}/g, fillColor);\r\n\r\n\tvar property = {\r\n\t\tviewBox: \"-55 -55 110 110\",\r\n\t\tpath: path,\r\n\t\ttext: {\r\n\t\t\toffset: { x: 0, y: 13 },\r\n\t\t\tvalue: text,\r\n\t\t\tcolor: getContrastYIQ(color),\r\n\t\t}\r\n\t};\r\n\r\n\tvar html = getHtml(property);\r\n\treturn toDataImage(html);\r\n}\r\n\r\nexports.getHomeUrl = function(color, text){\r\n\t//copyright: <a href=\"http://www.freepik.com\" title=\"Freepik\">Freepik</a>\r\n\tvar strokeWidth = 1;\r\n\tvar strokeColor = defaultProperty.strokeColor;\r\n\tvar fillColor = color;\r\n\r\n\tvar path = '\\\r\n\t\t<g fill=\"{{fillColor}}\" stroke=\"{{strokeColor}}\" stroke-width=\"{{strokeWidth}}\" >\\\r\n\t\t\t<path d=\"M33.609,20.96v12.384c0,1.104-0.896,2-2,2H7.805c-1.104,0-2-0.896-2-2V20.96c0-0.69,0.355-1.332,0.94-1.696l11.901-7.433\\\r\n\t\t\t\tc0.648-0.405,1.472-0.405,2.119,0l11.901,7.433C33.253,19.628,33.609,20.269,33.609,20.96z M38.475,15.432L20.768,4.374\\\r\n\t\t\t\tc-0.648-0.405-1.471-0.405-2.119,0L0.94,15.432c-0.937,0.585-1.221,1.819-0.637,2.756c0.584,0.938,1.816,1.224,2.756,0.638\\\r\n\t\t\t\tL19.707,8.428l16.646,10.396c0.33,0.206,0.695,0.304,1.059,0.304c0.667,0,1.318-0.333,1.697-0.941\\\r\n\t\t\t\tC39.695,17.249,39.41,16.017,38.475,15.432z\"/>\\\r\n\t\t</g>\\\r\n\t';\r\n\tpath = path.replace(/{{strokeWidth}}/g, strokeWidth)\r\n\t\t\t\t.replace(/{{strokeColor}}/g, strokeColor)\r\n\t\t\t\t.replace(/{{fillColor}}/g, fillColor);\r\n\r\n\tvar property = {\r\n\t\tviewBox: \"-2 -2 44 44\",\r\n\t\tpath: path,\r\n\t\ttext: {\r\n\t\t\toffset: {\r\n\t\t\t\tx: 20,\r\n\t\t\t\ty: 32,\r\n\t\t\t},\r\n\t\t\tsize: 14,\r\n\t\t\tvalue: text,\r\n\t\t\tcolor: getContrastYIQ(color),\r\n\t\t}\r\n\t};\r\n\r\n\tvar html = getHtml(property);\r\n\treturn toDataImage(html);\r\n}\r\n\r\nexports.getCloudUrl = function(color, text){\r\n\t//copyright: <a href=\"http://www.freepik.com\" title=\"Freepik\">Freepik</a>\r\n\tvar strokeWidth = 10;\r\n\tvar strokeColor = defaultProperty.strokeColor;\r\n\tvar fillColor = color;\r\n\r\n\tvar path = '\\\r\n\t\t<g fill=\"{{fillColor}}\" stroke=\"{{strokeColor}}\" stroke-width=\"{{strokeWidth}}\">\\\r\n\t\t\t<path d=\"M62.513,153.087c-0.009-0.525-0.02-1.049-0.02-1.575c0-50.155,40.659-90.814,90.814-90.814\\\r\n\t\t\tc43.222,0,79.388,30.196,88.562,70.643c8.555-4.789,18.409-7.531,28.91-7.531c32.766,0,59.328,26.562,59.328,59.328\\\r\n\t\t\tc0,1.339-0.06,2.664-0.148,3.981c24.325,9.03,41.661,32.444,41.661,59.911c0,35.286-28.605,63.892-63.892,63.892H79.865\\\r\n\t\t\tC35.757,310.921,0,275.164,0,231.056C0,192.907,26.749,161.011,62.513,153.087z\"/>\\\r\n\t\t</g>\\\r\n\t';\r\n\tpath = path.replace(/{{strokeWidth}}/g, strokeWidth)\r\n\t\t\t\t.replace(/{{strokeColor}}/g, strokeColor)\r\n\t\t\t\t.replace(/{{fillColor}}/g, fillColor);\r\n\r\n\tvar property = {\r\n\t\tviewBox: \"-20 -20 420 420\",\r\n\t\tpath: path,\r\n\t\ttext: {\r\n\t\t\toffset: {\r\n\t\t\t\tx: 180,\r\n\t\t\t\ty: 280,\r\n\t\t\t},\r\n\t\t\tsize: 140,\r\n\t\t\tvalue: text,\r\n\t\t\tcolor: getContrastYIQ(color),\r\n\t\t}\r\n\t};\r\n\r\n\tvar html = getHtml(property);\r\n\treturn toDataImage(html);\r\n}\r\n\r\nexports.getFactoryUrl = function(color, text){\r\n\t//copyright: <a href=\"http://www.freepik.com\" title=\"Freepik\">Freepik</a>\r\n\tvar strokeWidth = 13;\r\n\tvar strokeColor = defaultProperty.strokeColor;\r\n\tvar fillColor = color;\r\n\r\n\tvar path = '\\\r\n\t\t<path fill=\"{{fillColor}}\" stroke=\"{{strokeColor}}\" stroke-width=\"{{strokeWidth}}\" \\\r\n\t\td=\"M499.669,495.616C406.528,348.416,373.333,159.595,373.333,32c0-28.885-85.781-32-122.667-32C213.781,0,128,3.115,128,32\\\r\n\t\tc0,104.875-15.04,304.555-115.669,463.616c-2.091,3.285-2.219,7.445-0.341,10.859c1.877,3.413,5.461,5.525,9.344,5.525h469.333\\\r\n\t\tc3.883,0,7.467-2.112,9.344-5.525S501.76,498.923,499.669,495.616z M343.403,32.853c-0.747,0.235-1.429,0.469-2.24,0.683\\\r\n\t\tc-2.091,0.597-4.459,1.195-7.061,1.771c-0.491,0.107-0.875,0.213-1.365,0.32c-3.2,0.683-6.784,1.365-10.688,2.005\\\r\n\t\tc-1.003,0.171-2.176,0.32-3.221,0.469c-3.008,0.469-6.187,0.896-9.579,1.323c-1.6,0.192-3.285,0.363-4.971,0.555\\\r\n\t\tc-3.221,0.341-6.592,0.661-10.112,0.96c-1.941,0.149-3.883,0.32-5.909,0.448c-3.797,0.256-7.829,0.469-11.947,0.661\\\r\n\t\tc-1.963,0.085-3.84,0.192-5.867,0.256c-6.272,0.213-12.8,0.341-19.755,0.341c-6.955,0-13.483-0.128-19.755-0.341\\\r\n\t\tc-2.027-0.064-3.904-0.171-5.867-0.256c-4.117-0.192-8.149-0.384-11.947-0.661c-2.027-0.149-3.989-0.299-5.909-0.448\\\r\n\t\tc-3.52-0.299-6.891-0.597-10.112-0.96c-1.685-0.171-3.371-0.363-4.971-0.555c-3.392-0.405-6.571-0.853-9.579-1.323\\\r\n\t\tc-1.045-0.171-2.219-0.32-3.221-0.469c-3.904-0.64-7.488-1.323-10.688-2.005c-0.512-0.107-0.875-0.213-1.365-0.32\\\r\n\t\tc-2.603-0.576-4.992-1.173-7.061-1.771c-0.811-0.235-1.493-0.469-2.24-0.683c-0.981-0.299-1.813-0.597-2.645-0.896\\\r\n\t\tc13.803-4.864,46.037-10.624,95.381-10.624s81.536,5.76,95.339,10.624C345.216,32.256,344.384,32.555,343.403,32.853z\"/>\\\r\n\t';\r\n\tpath = path.replace(/{{strokeWidth}}/g, strokeWidth)\r\n\t\t\t\t.replace(/{{strokeColor}}/g, strokeColor)\r\n\t\t\t\t.replace(/{{fillColor}}/g, fillColor);\r\n\r\n\tvar property = {\r\n\t\tviewBox: \"-44 -44 600 600\",\r\n\t\tpath: path,\r\n\t\ttext: {\r\n\t\t\toffset: {\r\n\t\t\t\tx: 250,\r\n\t\t\t\ty: 480,\r\n\t\t\t},\r\n\t\t\tsize: 230,\r\n\t\t\tvalue: text,\r\n\t\t\tcolor: getContrastYIQ(color),\r\n\t\t}\r\n\t};\r\n\r\n\tvar html = getHtml(property);\r\n\treturn toDataImage(html);\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/svg-tool.js\n **/","var SVGTool = require(\"js/svg-tool\");\r\n\r\nmodule.exports = {\r\n\tformatter: {\r\n\t\tsn: function(value, row, index){\r\n\t\t\treturn 1+index;\r\n\t\t},\r\n\t\tlocation: function(value, row, index){\r\n\t\t\t// var url = \"https://www.google.com.tw/maps/place/\" + value.lat + ',' + value.lng;\r\n\t\t\tvar url = \"/@\" + value.lat + ',' + value.lng;\r\n\t\t\tvar latlng = [value.lat, value.lng].join(', ');\t\t\t\r\n\r\n\t\t\treturn [\r\n\t\t\t\t`<a href=\"${url}\" class=\"latlng\" target=\"_blank\" data-latlng=\"${latlng}\">`,\r\n\t\t\t\t'<span class=\"glyphicon glyphicon-map-marker\"></span>',\r\n\t\t\t\t'</a>'\r\n\t\t\t].join('');\r\n\t\t},\r\n\t\tdetail: function(index, row, element){\r\n\t\t\treturn [\r\n\t\t\t\t\"<div class='col-sm-6'>\",\r\n\t\t\t\tbsTable.generate.table(\"Data\", ['Index', 'Value'], row.Data),\r\n\t\t\t\t\"</div>\",\r\n\t\t\t\t\"<div class='col-sm-6'>\",\r\n\t\t\t\tbsTable.generate.table(\"RawData\", ['Index', 'Value'], row.RawData),\r\n\t\t\t\t\"</div>\",\r\n\t\t\t].join('');\r\n\t\t},\r\n\t\tupdateTime: function(time){\r\n\t\t\tvar human = moment(time).fromNow();\r\n\t\t\tvar dataTime = moment(time).format('YYYY-MM-DD HH:mm');\r\n\t\t\treturn '<span title=\"' + dataTime + '\"><span class=\"glyphicon glyphicon-time\"></span> ' + human + '</span>';\r\n\t\t},\r\n\t\tsiteName: function(name, row){\r\n\t\t\tvar url = \"/site#\" + row.SiteGroup + '$' + row.uniqueKey;\r\n\t\t\treturn \"<a href='\" + url + \"' target='_blank'><span class='glyphicon glyphicon-bookmark'></span> \" + name + \"</a>\";\r\n\t\t},\r\n\t\tranking: function(ranking){\r\n\t\t\tif(ranking == null){ return ''; }\r\n\r\n\t\t\tvar html = [];\r\n\t\t\tvar template = '<span class=\"glyphicon glyphicon-{{icon}}\"></span>';\r\n\t\t\tfor(var i=1; i<=5; i++){\r\n\t\t\t\thtml.push(template.replace('{{icon}}', i<=ranking ? 'star' : 'star-empty'));\r\n\t\t\t}\r\n\t\t\treturn html.join('');\r\n\r\n\t\t\treturn value;\r\n\t\t},\r\n\t\tstatus: function(status){\r\n\t\t\tif(status === null){ return ''; }\r\n\r\n\t\t\tvar template = '<img src=\"{{url}}\" title=\"{{hint}}\" />';\r\n\t\t\tvar hints = {\r\n\t\t\t\t'indoor': '可能放置於室內或設備故障',\r\n\t\t\t\t'longterm': '可能接近長時間的固定污染源或設備故障',\r\n\t\t\t\t'shortterm': '偵測到小型污染源',\r\n\t\t\t};\r\n\t\t\tvar color = '#333';\r\n\t\t\tvar text = '';\r\n\t\t\tvar html = [];\r\n\r\n\t\t\tif(status.indexOf('indoor') > -1){ \r\n\t\t\t\thtml.push(template.replace('{{url}}', SVGTool.getHomeUrl(color, text)).replace('{{hint}}', hints['indoor'])); \r\n\t\t\t}\r\n\t\t\tif(status.indexOf('longterm-pollution') > -1){ \r\n\t\t\t\thtml.push(template.replace('{{url}}', SVGTool.getFactoryUrl(color, text)).replace('{{hint}}', hints['longterm'])); \r\n\t\t\t}\r\n\t\t\tif(status.indexOf('shortterm-pollution') > -1){ \r\n\t\t\t\thtml.push(template.replace('{{url}}', SVGTool.getCloudUrl(color, text)).replace('{{hint}}', hints['shortterm'])); \r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn html.join('');\r\n\t\t}\r\n\t},\r\n\tgenerate: {\r\n\t\ttable: function(title, head, body){\r\n\t\t\tvar headHtml = '<tr><th>' + head.join('</th><th>') + '</th></tr>';\r\n\t\t\t\r\n\t\t\tvar bodyHtml = '';\r\n\t\t\tfor(var index in body){\r\n\t\t\t\tvar value = body[index];\r\n\t\t\t\t// console.log(index, value);\r\n\t\t\t\tbodyHtml += [\r\n\t\t\t\t\t'<tr>',\r\n\t\t\t\t\t\t'<th>' + index + '</th>',\r\n\t\t\t\t\t\t'<td>' + value + '</td>',\r\n\t\t\t\t\t\"</tr>\"\r\n\t\t\t\t].join('');\r\n\t\t\t}\r\n\r\n\t\t\treturn [\r\n\t\t\t\t'<div class=\"panel panel-info\">',\r\n\t\t\t\t\t'<div class=\"panel-heading\">',\r\n\t\t\t\t\t\ttitle,\r\n\t\t\t\t\t'</div>',\r\n\t\t\t\t\t\"<table class='table table-striped'>\",\r\n\t\t\t\t\t\t\"<thead>\",\r\n\t\t\t\t\t\t\theadHtml,\r\n\t\t\t\t\t\t\"</thead>\",\r\n\t\t\t\t\t\t\"<tbody>\",\r\n\t\t\t\t\t\t\tbodyHtml,\r\n\t\t\t\t\t\t\"</tbody>\",\r\n\t\t\t\t\t\"</table>\",\r\n\t\t\t\t'</div>',\r\n\t\t\t].join('');\r\n\t\t}\r\n\t},\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/list-table.js\n **/","module.exports = global[\"bsTable\"] = require(\"-!E:\\\\gae\\\\airmap-v4\\\\node_modules\\\\babel-loader\\\\index.js?presets[]=es2015!E:\\\\gae\\\\airmap-v4\\\\src\\\\js\\\\list-table.js\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/expose-loader?bsTable!./src/js/list-table.js\n ** module id = 45\n ** module chunks = 4\n **/","// removed by extract-text-webpack-plugin\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/css/list.css\n ** module id = 49\n ** module chunks = 4\n **/"],"sourceRoot":""}