{"version":3,"sources":["webpack:///./src/js/list-page.js","webpack:///./src/js/list-table.js?63c4","webpack:///./src/js/list-table.js","webpack:///./src/js/svg-tool.js","webpack:///./src/css/common.css","webpack:///./src/css/list.css"],"names":[],"mappings":"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","file":"list.js","sourcesContent":["require(\"expose?bsTable!./list-table\");\r\nrequire(\"css/common.css\");\r\nrequire(\"css/list.css\");\r\n\r\nmoment.locale('zh-tw');\r\nmoment.updateLocale('zh-tw', {\r\n\trelativeTime: {\r\n\t\tm : '1分鐘',\r\n\t\th : '1小時',\r\n\t\td : '1天',\r\n\t\tM : '1個月',\r\n\t\ty : '1年',\r\n\t}\r\n});\r\n\r\n\r\n\r\n$(function(){\r\n\t// siteName hashtag\r\n\tvar siteName = window.location.hash.substr(1);\t\r\n\t$(\".bsTable\").on('load-success.bs.table', function(e, data){\r\n\t\tif(siteName){\r\n\t\t\t$(\".bootstrap-table .search input\").val(siteName).trigger('keyup');\r\n\t\t}\r\n\t});\r\n\r\n\t$(\".bsTable\").on('click-row.bs.table', function(e, row, $tr){\r\n\t\tif ($tr.next().is('tr.detail-view')) {\r\n\t\t\t$(this).bootstrapTable('collapseRow', $tr.data('index'));\r\n\t\t} else {\r\n\t\t\t$(this).bootstrapTable('expandRow', $tr.data('index'));\r\n\t\t}\r\n\t});\r\n\r\n\t$(\"#filter button\").click(function(){\r\n\t\tif($(this).data('type')){\r\n\t\t\t$(\"#filter button[data-type]\").removeClass('btn-primary')\r\n\t\t\t\t.filter(this).addClass('btn-primary');\r\n\t\t}\r\n\r\n\t\tif($(this).data('group')){\r\n\t\t\t$(\"#filter button[data-group]\").removeClass('btn-success')\r\n\t\t\t\t.filter(this).addClass('btn-success');\r\n\t\t}\r\n\r\n\t\tvar type = $(\"#filter button.btn-primary[data-type]\").data('type');\r\n\t\tvar group = $(\"#filter button.btn-success[data-group]\").data('group');\r\n\t\tvar filename = type == 'valid' ? group : group + '-expire';\r\n\t\tloadDatasource(filename);\r\n\t});\r\n\r\n\tfunction loadDatasource(filename){\r\n\t\tif(!filename){ return false; }\r\n\r\n\t\t$(\"#loading\").show();\r\n\r\n\t\tvar url = \"/json/{{filename}}.json?raw=1\";\r\n\t\turl = url.replace('{{filename}}', filename);\r\n\r\n\t\t$.getJSON(url).then(data => {\r\n\t\t\t$('#bsTable').bootstrapTable('load', data);\r\n\t\t\t$(\"#loading\").hide();\r\n\t\t});\r\n\t}\r\n\r\n\tgoogle.maps.event.addDomListener(window, \"load\", function(){\r\n\t\tvar geocoder = new google.maps.Geocoder();\r\n\t\tvar getAddr = function(lat, lng, cb){\r\n\t\t\tvar coord = new google.maps.LatLng(lat, lng);\r\n\t\t\tgeocoder.geocode({'latLng': coord }, function(results, status) {\r\n\t\t\t\tif (status === google.maps.GeocoderStatus.OK && results) {\t\r\n\t\t\t\t\tvar address = results[0].formatted_address;\r\n\r\n\t\t\t\t\tvar components = results[0].address_components;\r\n\t\t\t\t\tif( components.length > 4 ){\t\t\t\t\t\t\r\n\t\t\t\t\t\tcomponents.shift(); components.pop();\r\n\t\t\t\t\t\tvar seperate = components[components.length-1].short_name == \"TW\" ? '' : ', ';\r\n\t\t\t\t\t\taddress = components.reverse().map((component) => component.long_name).join(seperate);\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tcb(address);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tcb('');\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\t$(\"body\").on(\"mouseover\", \"a.latlng\", function(){\r\n\t\t\tvar $el = $(this);\r\n\t\t\tvar [lat, lng] = $(this).data('latlng').split(',');\r\n\t\t\tgetAddr(lat, lng, function(addr){\r\n\t\t\t\t$el.attr('title', addr + ` (${$el.data('latlng')})` );\r\n\t\t\t});\t\t\t\r\n\t\t});\r\n\t});\r\n});\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/list-page.js\n **/","module.exports = global[\"bsTable\"] = require(\"-!E:\\\\gae\\\\airmap-v4\\\\node_modules\\\\babel-loader\\\\index.js?presets[]=es2015!E:\\\\gae\\\\airmap-v4\\\\src\\\\js\\\\list-table.js\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/expose-loader?bsTable!./src/js/list-table.js\n ** module id = 6\n ** module chunks = 0\n **/","var SVGTool = require(\"js/svg-tool\");\r\n\r\nmodule.exports = {\r\n\tformatter: {\r\n\t\tsn: function(value, row, index){\r\n\t\t\treturn 1+index;\r\n\t\t},\r\n\t\tlocation: function(value, row, index){\r\n\t\t\t// var url = \"https://www.google.com.tw/maps/place/\" + value.lat + ',' + value.lng;\r\n\t\t\tvar url = \"/@\" + value.lat + ',' + value.lng;\r\n\t\t\tvar latlng = [value.lat, value.lng].join(', ');\t\t\t\r\n\r\n\t\t\treturn [\r\n\t\t\t\t`<a href=\"${url}\" class=\"latlng\" target=\"_blank\" data-latlng=\"${latlng}\">`,\r\n\t\t\t\t'<span class=\"glyphicon glyphicon-map-marker\"></span>',\r\n\t\t\t\t'</a>'\r\n\t\t\t].join('');\r\n\t\t},\r\n\t\tdetail: function(index, row, element){\r\n\t\t\treturn [\r\n\t\t\t\t\"<div class='col-sm-6'>\",\r\n\t\t\t\tbsTable.generate.table(\"Data\", ['Index', 'Value'], row.Data),\r\n\t\t\t\t\"</div>\",\r\n\t\t\t\t\"<div class='col-sm-6'>\",\r\n\t\t\t\tbsTable.generate.table(\"RawData\", ['Index', 'Value'], row.RawData),\r\n\t\t\t\t\"</div>\",\r\n\t\t\t].join('');\r\n\t\t},\r\n\t\tupdateTime: function(time){\r\n\t\t\tvar human = moment(time).fromNow();\r\n\t\t\tvar dataTime = moment(time).format('YYYY-MM-DD HH:mm');\r\n\t\t\treturn '<span title=\"' + dataTime + '\"><span class=\"glyphicon glyphicon-time\"></span> ' + human + '</span>';\r\n\t\t},\r\n\t\tsiteName: function(name, row){\r\n\t\t\tvar url = \"/site#\" + row.SiteGroup + '$' + row.uniqueKey;\r\n\t\t\treturn \"<a href='\" + url + \"' target='_blank'><span class='glyphicon glyphicon-bookmark'></span> \" + name + \"</a>\";\r\n\t\t},\r\n\t\tranking: function(ranking){\r\n\t\t\tif(ranking == null){ return ''; }\r\n\r\n\t\t\tvar html = [];\r\n\t\t\tvar template = '<span class=\"glyphicon glyphicon-{{icon}}\"></span>';\r\n\t\t\tfor(var i=1; i<=5; i++){\r\n\t\t\t\thtml.push(template.replace('{{icon}}', i<=ranking ? 'star' : 'star-empty'));\r\n\t\t\t}\r\n\t\t\treturn html.join('');\r\n\r\n\t\t\treturn value;\r\n\t\t},\r\n\t\tstatus: function(status){\r\n\t\t\tif(status === null){ return ''; }\r\n\r\n\t\t\tvar template = '<img src=\"{{url}}\" title=\"{{hint}}\" />';\r\n\t\t\tvar hints = {\r\n\t\t\t\t'indoor': '可能放置於室內或設備故障',\r\n\t\t\t\t'longterm': '可能接近長時間的固定污染源或設備故障',\r\n\t\t\t\t'shortterm': '偵測到小型污染源',\r\n\t\t\t};\r\n\t\t\tvar color = '#333';\r\n\t\t\tvar text = '';\r\n\t\t\tvar html = [];\r\n\r\n\t\t\tif(status.indexOf('indoor') > -1){ \r\n\t\t\t\thtml.push(template.replace('{{url}}', SVGTool.getHomeUrl(color, text)).replace('{{hint}}', hints['indoor'])); \r\n\t\t\t}\r\n\t\t\tif(status.indexOf('longterm-pollution') > -1){ \r\n\t\t\t\thtml.push(template.replace('{{url}}', SVGTool.getFactoryUrl(color, text)).replace('{{hint}}', hints['longterm'])); \r\n\t\t\t}\r\n\t\t\tif(status.indexOf('shortterm-pollution') > -1){ \r\n\t\t\t\thtml.push(template.replace('{{url}}', SVGTool.getCloudUrl(color, text)).replace('{{hint}}', hints['shortterm'])); \r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn html.join('');\r\n\t\t}\r\n\t},\r\n\tgenerate: {\r\n\t\ttable: function(title, head, body){\r\n\t\t\tvar headHtml = '<tr><th>' + head.join('</th><th>') + '</th></tr>';\r\n\t\t\t\r\n\t\t\tvar bodyHtml = '';\r\n\t\t\tfor(var index in body){\r\n\t\t\t\tvar value = body[index];\r\n\t\t\t\t// console.log(index, value);\r\n\t\t\t\tbodyHtml += [\r\n\t\t\t\t\t'<tr>',\r\n\t\t\t\t\t\t'<th>' + index + '</th>',\r\n\t\t\t\t\t\t'<td>' + value + '</td>',\r\n\t\t\t\t\t\"</tr>\"\r\n\t\t\t\t].join('');\r\n\t\t\t}\r\n\r\n\t\t\treturn [\r\n\t\t\t\t'<div class=\"panel panel-info\">',\r\n\t\t\t\t\t'<div class=\"panel-heading\">',\r\n\t\t\t\t\t\ttitle,\r\n\t\t\t\t\t'</div>',\r\n\t\t\t\t\t\"<table class='table table-striped'>\",\r\n\t\t\t\t\t\t\"<thead>\",\r\n\t\t\t\t\t\t\theadHtml,\r\n\t\t\t\t\t\t\"</thead>\",\r\n\t\t\t\t\t\t\"<tbody>\",\r\n\t\t\t\t\t\t\tbodyHtml,\r\n\t\t\t\t\t\t\"</tbody>\",\r\n\t\t\t\t\t\"</table>\",\r\n\t\t\t\t'</div>',\r\n\t\t\t].join('');\r\n\t\t}\r\n\t},\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/list-table.js\n **/","var svgTemplate = '\\\r\n\t<svg width=\"{{width}}\" height=\"{{height}}\" viewBox=\"{{viewBox}}\" xmlns=\"http://www.w3.org/2000/svg\">\\\r\n\t\t{{path}}\\\r\n\t\t<text x=\"{{textOffsetX}}\" y=\"{{textOffsetY}}\"\\\r\n\t\t\tfill=\"{{textColor}}\" text-anchor=\"middle\" \\\r\n\t\t\tstyle=\"font-size:{{textSize}}px; font-weight: bolder; text-shadow: 1px 1px 0px #333, -1px -1px 0px #333, 1px -1px 0px #333, -1px 1px 0px #333;\">\\\r\n\t\t\t{{text}}\\\r\n\t\t</text>\\\r\n\t</svg>';\r\n\r\nvar defaultProperty = {\r\n\twidth: 30,\r\n\theight: 30,\r\n\tviewBox: '0 0 30 30',\r\n\tpath: '',\r\n\ttext: {\r\n\t\toffset: {\r\n\t\t\tx: 15,\r\n\t\t\ty: 15,\r\n\t\t},\r\n\t\tcolor: \"#FFFFFF\",\r\n\t\tsize: 35,\r\n\t\tvalue: '',\r\n\t},\r\n\tstrokeColor: \"#4F595D\",\r\n}\r\n\r\nvar getHtml = function(userProperty){\r\n\tvar property = $.extend(true, {}, defaultProperty, userProperty);\r\n\r\n\tvar svgHtml = svgTemplate.replace(/{{width}}/g, property.width)\r\n\t\t\t\t\t\t .replace(/{{height}}/g, property.height)\r\n\t\t\t\t\t\t .replace(/{{viewBox}}/g, property.viewBox)\r\n\t\t\t\t\t\t .replace(/{{path}}/g, property.path)\r\n\t\t\t\t\t\t .replace(/{{textOffsetX}}/g, property.text.offset.x)\r\n\t\t\t\t\t\t .replace(/{{textOffsetY}}/g, property.text.offset.y)\r\n\t\t\t\t\t\t .replace(/{{textColor}}/g, property.text.color)\r\n\t\t\t\t\t\t .replace(/{{textSize}}/g, property.text.size)\r\n\t\t\t\t\t\t .replace(/{{text}}/g, property.text.value);\r\n\r\n\treturn svgHtml;\r\n}\r\n\r\nvar toDataImage = function(svgHtml){\r\n\treturn 'data:image/svg+xml;charset=utf-8,' + encodeURIComponent(svgHtml);\r\n}\r\n\r\nexports.getCircleUrl = function(color, text, size=40){\r\n\tvar strokeWidth = 2;\r\n\tvar strokeColor = defaultProperty.strokeColor;\r\n\tvar fillColor = color;\r\n\r\n\tvar path = '\\\r\n\t\t<circle r=\"40\" stroke=\"{{strokeColor}}\" stroke-width=\"{{strokeWidth}}\" fill=\"{{fillColor}}\" />\\\r\n\t';\r\n\tpath = path.replace(/{{strokeWidth}}/g, strokeWidth)\r\n\t\t\t\t.replace(/{{strokeColor}}/g, strokeColor)\r\n\t\t\t\t.replace(/{{fillColor}}/g, fillColor);\r\n\r\n\tvar property = {\r\n\t\tviewBox: \"-45 -45 90 90\",\r\n\t\tpath: path,\r\n\t\ttext: {\r\n\t\t\toffset: { x: 0, y: 13 },\r\n\t\t\tvalue: text,\r\n\t\t}\r\n\t};\r\n\r\n\tvar html = getHtml(property);\r\n\treturn toDataImage(html);\r\n}\r\n\r\nexports.getHomeUrl = function(color, text){\r\n\t//copyright: <a href=\"http://www.freepik.com\" title=\"Freepik\">Freepik</a>\r\n\tvar strokeWidth = 1;\r\n\tvar strokeColor = defaultProperty.strokeColor;\r\n\tvar fillColor = color;\r\n\r\n\tvar path = '\\\r\n\t\t<g fill=\"{{fillColor}}\" stroke=\"{{strokeColor}}\" stroke-width=\"{{strokeWidth}}\" >\\\r\n\t\t\t<path d=\"M33.609,20.96v12.384c0,1.104-0.896,2-2,2H7.805c-1.104,0-2-0.896-2-2V20.96c0-0.69,0.355-1.332,0.94-1.696l11.901-7.433\\\r\n\t\t\t\tc0.648-0.405,1.472-0.405,2.119,0l11.901,7.433C33.253,19.628,33.609,20.269,33.609,20.96z M38.475,15.432L20.768,4.374\\\r\n\t\t\t\tc-0.648-0.405-1.471-0.405-2.119,0L0.94,15.432c-0.937,0.585-1.221,1.819-0.637,2.756c0.584,0.938,1.816,1.224,2.756,0.638\\\r\n\t\t\t\tL19.707,8.428l16.646,10.396c0.33,0.206,0.695,0.304,1.059,0.304c0.667,0,1.318-0.333,1.697-0.941\\\r\n\t\t\t\tC39.695,17.249,39.41,16.017,38.475,15.432z\"/>\\\r\n\t\t</g>\\\r\n\t';\r\n\tpath = path.replace(/{{strokeWidth}}/g, strokeWidth)\r\n\t\t\t\t.replace(/{{strokeColor}}/g, strokeColor)\r\n\t\t\t\t.replace(/{{fillColor}}/g, fillColor);\r\n\r\n\tvar property = {\r\n\t\tviewBox: \"-2 -2 44 44\",\r\n\t\tpath: path,\r\n\t\ttext: {\r\n\t\t\toffset: {\r\n\t\t\t\tx: 20,\r\n\t\t\t\ty: 32,\r\n\t\t\t},\r\n\t\t\tsize: 14,\r\n\t\t\tvalue: text,\r\n\t\t}\r\n\t};\r\n\r\n\tvar html = getHtml(property);\r\n\treturn toDataImage(html);\r\n}\r\n\r\nexports.getCloudUrl = function(color, text){\r\n\t//copyright: <a href=\"http://www.freepik.com\" title=\"Freepik\">Freepik</a>\r\n\tvar strokeWidth = 15;\r\n\tvar strokeColor = defaultProperty.strokeColor;\r\n\tvar fillColor = color;\r\n\r\n\tvar path = '\\\r\n\t\t<g fill=\"{{fillColor}}\" stroke=\"{{strokeColor}}\" stroke-width=\"{{strokeWidth}}\">\\\r\n\t\t\t<path d=\"M62.513,153.087c-0.009-0.525-0.02-1.049-0.02-1.575c0-50.155,40.659-90.814,90.814-90.814\\\r\n\t\t\tc43.222,0,79.388,30.196,88.562,70.643c8.555-4.789,18.409-7.531,28.91-7.531c32.766,0,59.328,26.562,59.328,59.328\\\r\n\t\t\tc0,1.339-0.06,2.664-0.148,3.981c24.325,9.03,41.661,32.444,41.661,59.911c0,35.286-28.605,63.892-63.892,63.892H79.865\\\r\n\t\t\tC35.757,310.921,0,275.164,0,231.056C0,192.907,26.749,161.011,62.513,153.087z\"/>\\\r\n\t\t</g>\\\r\n\t';\r\n\tpath = path.replace(/{{strokeWidth}}/g, strokeWidth)\r\n\t\t\t\t.replace(/{{strokeColor}}/g, strokeColor)\r\n\t\t\t\t.replace(/{{fillColor}}/g, fillColor);\r\n\r\n\tvar property = {\r\n\t\tviewBox: \"-20 -20 420 420\",\r\n\t\tpath: path,\r\n\t\ttext: {\r\n\t\t\toffset: {\r\n\t\t\t\tx: 190,\r\n\t\t\t\ty: 290,\r\n\t\t\t},\r\n\t\t\tsize: 140,\r\n\t\t\tvalue: text,\r\n\t\t}\r\n\t};\r\n\r\n\tvar html = getHtml(property);\r\n\treturn toDataImage(html);\r\n}\r\n\r\nexports.getFactoryUrl = function(color, text){\r\n\t//copyright: <a href=\"http://www.freepik.com\" title=\"Freepik\">Freepik</a>\r\n\tvar strokeWidth = 10;\r\n\tvar strokeColor = defaultProperty.strokeColor;\r\n\tvar fillColor = color;\r\n\r\n\tvar path = '\\\r\n\t\t<path fill=\"{{fillColor}}\" stroke=\"{{strokeColor}}\" stroke-width=\"{{strokeWidth}}\" \\\r\n\t\td=\"M499.669,495.616C406.528,348.416,373.333,159.595,373.333,32c0-28.885-85.781-32-122.667-32C213.781,0,128,3.115,128,32\\\r\n\t\tc0,104.875-15.04,304.555-115.669,463.616c-2.091,3.285-2.219,7.445-0.341,10.859c1.877,3.413,5.461,5.525,9.344,5.525h469.333\\\r\n\t\tc3.883,0,7.467-2.112,9.344-5.525S501.76,498.923,499.669,495.616z M343.403,32.853c-0.747,0.235-1.429,0.469-2.24,0.683\\\r\n\t\tc-2.091,0.597-4.459,1.195-7.061,1.771c-0.491,0.107-0.875,0.213-1.365,0.32c-3.2,0.683-6.784,1.365-10.688,2.005\\\r\n\t\tc-1.003,0.171-2.176,0.32-3.221,0.469c-3.008,0.469-6.187,0.896-9.579,1.323c-1.6,0.192-3.285,0.363-4.971,0.555\\\r\n\t\tc-3.221,0.341-6.592,0.661-10.112,0.96c-1.941,0.149-3.883,0.32-5.909,0.448c-3.797,0.256-7.829,0.469-11.947,0.661\\\r\n\t\tc-1.963,0.085-3.84,0.192-5.867,0.256c-6.272,0.213-12.8,0.341-19.755,0.341c-6.955,0-13.483-0.128-19.755-0.341\\\r\n\t\tc-2.027-0.064-3.904-0.171-5.867-0.256c-4.117-0.192-8.149-0.384-11.947-0.661c-2.027-0.149-3.989-0.299-5.909-0.448\\\r\n\t\tc-3.52-0.299-6.891-0.597-10.112-0.96c-1.685-0.171-3.371-0.363-4.971-0.555c-3.392-0.405-6.571-0.853-9.579-1.323\\\r\n\t\tc-1.045-0.171-2.219-0.32-3.221-0.469c-3.904-0.64-7.488-1.323-10.688-2.005c-0.512-0.107-0.875-0.213-1.365-0.32\\\r\n\t\tc-2.603-0.576-4.992-1.173-7.061-1.771c-0.811-0.235-1.493-0.469-2.24-0.683c-0.981-0.299-1.813-0.597-2.645-0.896\\\r\n\t\tc13.803-4.864,46.037-10.624,95.381-10.624s81.536,5.76,95.339,10.624C345.216,32.256,344.384,32.555,343.403,32.853z\"/>\\\r\n\t';\r\n\tpath = path.replace(/{{strokeWidth}}/g, strokeWidth)\r\n\t\t\t\t.replace(/{{strokeColor}}/g, strokeColor)\r\n\t\t\t\t.replace(/{{fillColor}}/g, fillColor);\r\n\r\n\tvar property = {\r\n\t\tviewBox: \"-94 -94 680 680\",\r\n\t\tpath: path,\r\n\t\ttext: {\r\n\t\t\toffset: {\r\n\t\t\t\tx: 256,\r\n\t\t\t\ty: 480,\r\n\t\t\t},\r\n\t\t\tsize: 200,\r\n\t\t\tvalue: text,\r\n\t\t}\r\n\t};\r\n\r\n\tvar html = getHtml(property);\r\n\treturn toDataImage(html);\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/svg-tool.js\n **/","// removed by extract-text-webpack-plugin\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/css/common.css\n ** module id = 9\n ** module chunks = 0 1 2\n **/","// removed by extract-text-webpack-plugin\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/css/list.css\n ** module id = 13\n ** module chunks = 0\n **/"],"sourceRoot":""}